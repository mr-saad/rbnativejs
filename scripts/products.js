const d=document.querySelector(".menu"),u=document.querySelector("nav"),i=document.querySelector("nav ul"),n=document.querySelector("[data-cart-count]"),g=document.querySelector(".filter_list");let o=(JSON.parse(localStorage.getItem("ratanCart"))||[]).filter(t=>t&&typeof t=="object");n.style.display=o.length?"inline":"none",n.innerText=o.length||"",d.addEventListener("click",()=>i.classList.toggle("open")),document.addEventListener("click",t=>{u.contains(t.target)||i.classList.remove("open")});const l=document.querySelector("[data-products]");window.addEventListener("sanityReady",()=>{let t="";for(let e of window._prods)t+=`<a href="products/${e.slug}.html" class="product"><img height="400" width="400" src="${e.image}" decoding="async" loading="lazy" /><strong>${e.title}</strong></a>`;l.innerHTML=t,l.classList.remove("skeleton")}),g.addEventListener("click",t=>{if(t.target.tagName!=="LI")return;switch(t.currentTarget.querySelectorAll("li").forEach(r=>{r.classList.remove("active"),r.dataset.filterActive=!1}),t.target.dataset.filter){case"dupatta":s("Dupatta",t);break;case"saree":s("Saree",t);break;case"dress":s("Dress",t);break;case"topMaterial":s("Top Material",t);break;default:s("all",t)}});const s=(t,e)=>{const c=e.target.dataset.filterActive==="true";e.target.dataset.filterActive=!c,c?e.target.classList.remove("active"):e.target.classList.add("active");let r="";t==="all"?window._prods.forEach(a=>{r+=`<a href="products/${a.slug}.html" class="product"><img height="400" width="400" src="${a.image}" decoding="async" loading="lazy" /><strong>${a.title}</strong></a>`}):window._prods.filter(a=>a.type===t).forEach(a=>{r+=`<a href="products/${a.slug}.html" class="product"><img height="400" width="400" src="${a.image}" decoding="async" loading="lazy" /><strong>${a.title}</strong></a>`}),l.innerHTML=r};
