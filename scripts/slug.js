const a=document.querySelector("[data-add-to-cart]");cartCount=document.querySelector("[data-cart-count]");let t=(JSON.parse(localStorage.getItem("ratanCart"))||[]).filter(e=>e&&typeof e=="object");cartCount.style.display=t.length?"inline":"none",cartCount.innerText=t.length||"";const c=()=>new CustomEvent("cart:update",{bubbles:!0}),d=()=>t.some(e=>e?._id===a.dataset.prodId),r=()=>{a.innerText=d()?"Remove From Cart":"Add to Cart"},l=e=>{let n=t.find(o=>o?._id===a.dataset.prodId);n?(u(n?._id),r()):(i(e),r()),document.dispatchEvent(c())},i=e=>{t.push(e),t=t.filter(n=>n&&typeof n=="object"),localStorage.setItem("ratanCart",JSON.stringify(t)),cartCount.style.display=t.length?"inline":"none"},u=e=>{t=t.filter(n=>n&&typeof n=="object").filter(n=>n._id!==e),localStorage.setItem("ratanCart",JSON.stringify(t)),cartCount.style.display=t.length?"inline":"none"};r(),document.addEventListener("cart:update",()=>{cartCount.innerText=t.length||""});const s={_id:document.querySelector("._id").value,title:document.querySelector(".title").value,slug:document.querySelector(".slug").value,image:document.querySelector(".image").value};a.addEventListener("click",()=>l(s));
